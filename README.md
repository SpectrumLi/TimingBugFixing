This is a repository accompanying our PLDI'19 paper "DFix: Automatically Fixing Timing Bugs in Distributed Systems".
In this repository, you can find:
- Our open-source tool DFix, a tool that helps automatically fix distributed timing bugs;
- Bug benchmarks we used to evaluate DFix.

DFix tackles two types of distributed timing bugs, fault-timing bugs and message-timing bugs. We put the DFix source code and benchmarks for these two types in the "Fault Timing Bugs" and "Message Timing Bugs" sub-directories respectively.

For every benchmark bug, it contains the following information:
  * The original bug report;
  * The original patch provided by developers;
  * The inputs to DFix;
  * The exact patch generated by DFix;

Links that directly point to each benchmark in our paper are put below for quick checking. 
Note that:
  * The IDs like "AM1", "AM2" refer to the IDs in Table 1 of our paper.
  * Two message timing bugs (?? and ??) share the same patch, as fixing one can guarantee also fixing the other.
  * Two fault timing bugs (?? and ??) share the same patch, as their buggy window can be merged to a larger one.

Bug AM1 (CA-1011)

Bug Report: [Message Timing Bugs/benchmark/ca-1011/ReadMe](Message%20Timing%20Bugs/benchmark/ca-1011/ReadMe)

Manual Patch: No Patch.

DFix Patch: [Message Timing Bugs/benchmark/ca-1011/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/ca-1011/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/ca-1011/input](Message%20Timing%20Bugs/benchmark/ca-1011/input)

Bug AM2 (HB-4539)

Bug Report: [Message Timing Bugs/benchmark/hb-4539/ReadMe](Message%20Timing%20Bugs/benchmark/hb-4539/ReadMe)

Manual Patch: [Message Timing Bugs/benchmark/hb-4539/patch/Manual.patch](Message%20Timing%20Bugs/benchmark/hb-4539/patch/Manual.patch)

DFix Patch: [Message Timing Bugs/benchmark/hb-4539/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/hb-4539/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/hb-4539/input](Message%20Timing%20Bugs/benchmark/hb-4539/input)

Bug AM3 (hb-4729)

Bug Report: [Message Timing Bugs/benchmark/hb-4729/ReadMe](Message%20Timing%20Bugs/benchmark/hb-4729/ReadMe)

Manual Patch: [Message Timing Bugs/benchmark/hb-4729/patch/Manual.patch](Message%20Timing%20Bugs/benchmark/hb-4729/patch/Manual.patch)

DFix Patch: [Message Timing Bugs/benchmark/hb-4729/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/hb-4729/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/hb-4729/input](Message%20Timing%20Bugs/benchmark/hb-4729/input)

Bug OM1 (CA-extra)

Bug Report: [Message Timing Bugs/benchmark/ca-extra/ReadMe](Message%20Timing%20Bugs/benchmark/ca-extra/ReadMe)

Manual Patch: No Patch.

DFix Patch: [Message Timing Bugs/benchmark/ca-extra/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/ca-extra/patch/DFix.patch)
 
DFix Input: [Message Timing Bugs/benchmark/ca-extra/input](Message%20Timing%20Bugs/benchmark/ca-extra/input)

Bug OM2 (MR-3274)

Bug Report: [Message Timing Bugs/benchmark/mr-3274/ReadMe](Message%20Timing%20Bugs/benchmark/mr-3274/ReadMe)

Manual Patch: [Message Timing Bugs/benchmark/mr-3274/patch/Manual.patch](Message%20Timing%20Bugs/benchmark/mr-3274/patch/Manual.patch)

DFix Patch: [Message Timing Bugs/benchmark/mr-3274/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/mr-3274/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/mr-3274/input](Message%20Timing%20Bugs/benchmark/mr-3274/input)

Bug OM3 (MR-4637)

Bug Report: [Message Timing Bugs/benchmark/mr-4637/ReadMe](Message%20Timing%20Bugs/benchmark/mr-4637/ReadMe)

Manual Patch: [Message Timing Bugs/benchmark/mr-4637/patch/Manual.patch](Message%20Timing%20Bugs/benchmark/mr-4637/patch/Manual.patch)

DFix Patch: [Message Timing Bugs/benchmark/mr-4637/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/mr-4637/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/mr-4637/input](Message%20Timing%20Bugs/benchmark/mr-4637/input)

Bug OM4 & OM6 (ZK-1144/ZK-1194)

Bug Report: [Message Timing Bugs/benchmark/zk-1144/ReadMe](Message%20Timing%20Bugs/benchmark/zk-1144/ReadMe)

ZK-1144 Manual Patch: [Message Timing Bugs/benchmark/zk-1144/patch/Manual-1144.patch](Message%20Timing%20Bugs/benchmark/zk-1144/patch/Manual-1144.patch)

ZK-1194 Manual Patch: [Message Timing Bugs/benchmark/zk-1144/patch/Manual-1194.patch](Message%20Timing%20Bugs/benchmark/zk-1144/patch/Manual-1194.patch)

DFix Patch: [Message Timing Bugs/benchmark/zk-1144/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/zk-1144/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/zk-1144/input](Message%20Timing%20Bugs/benchmark/zk-1144/input)

Bug OM5 (ZK-1270)

Bug Report: [Message Timing Bugs/benchmark/zk-1270/ReadMe](Message%20Timing%20Bugs/benchmark/zk-1270/ReadMe)

Manual Patch: [Message Timing Bugs/benchmark/zk-1270/patch/Manual.patch](Message%20Timing%20Bugs/benchmark/zk-1270/patch/Manual.patch)

DFix Patch: [Message Timing Bugs/benchmark/zk-1270/patch/DFix.patch](Message%20Timing%20Bugs/benchmark/zk-1270/patch/DFix.patch)

DFix Input: [Message Timing Bugs/benchmark/zk-1270/input](Message%20Timing%20Bugs/benchmark/zk-1270/input)


Bug AF1 & AF3 (HB-2611/HB-12241)

Bug Report: [Fault Timing Bugs/benchmark/hb-2611/ReadMe](Fault%20Timing%20Bugs/benchmark/hb-2611/ReadMe)

HB-2611 Manual Patch: [Fault Timing Bugs/benchmark/hb-2611/patch-rollback/Manual-2611.patch](Fault%20Timing%20Bugs/benchmark/hb-2611/patch-rollback/Manual-2611.patch)

HB-12241 Manual Patch: No Patch.

DFix Rollback Patch: [Fault Timing Bugs/benchmark/hb-2611/patch-rollback/DFix.patch](Fault%20Timing%20Bugs/benchmark/hb-2611/patch-rollback/DFix.patch)

DFix Fastforward Patch: [Fault Timing Bugs/benchmark/hb-2611/patch-fastforward/DFix.patch](Fault%20Timing%20Bugs/benchmark/hb-2611/patch-fastforward/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/hb-2611/input](Fault%20Timing%20Bugs/benchmark/hb-2611/input)

Bug AF2 (HB-3596)

Bug Report: [Fault Timing Bugs/benchmark/hb-3596/ReadMe](Fault%20Timing%20Bugs/benchmark/hb-3596/ReadMe)

Manual Patch: [Fault Timing Bugs/benchmark/hb-3596/patch-rollback/Manual.patch](Fault%20Timing%20Bugs/benchmark/hb-3596/patch-rollback/Manual.patch)

DFix Rollback Patch: [Fault Timing Bugs/benchmark/hb-3596/patch-rollback/DFix.patch](Fault%20Timing%20Bugs/benchmark/hb-3596/patch-rollback/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/hb-3596/input](Fault%20Timing%20Bugs/benchmark/hb-3596/input)

Bug AF4 (ZK-1653)

Bug Report: [Fault Timing Bugs/benchmark/zk-1653/ReadMe](Fault%20Timing%20Bugs/benchmark/zk-1653/ReadMe)

Manual Patch: [Fault Timing Bugs/benchmark/zk-1653/patch-rollback/Manual.patch](Fault%20Timing%20Bugs/benchmark/zk-1653/patch-rollback/Manual.patch)

DFix Rollback Patch: [Fault Timing Bugs/benchmark/zk-1653/patch-rollback/DFix.patch](Fault%20Timing%20Bugs/benchmark/zk-1653/patch-rollback/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/zk-1653/input](Fault%20Timing%20Bugs/benchmark/zk-1653/input)

Bug OF1 (CA-5393)

Bug Report: [Fault Timing Bugs/benchmark/ca-5393/ReadMe](Fault%20Timing%20Bugs/benchmark/ca-5393/ReadMe)

Manual Patch: [Fault Timing Bugs/benchmark/ca-5393/patch-fastforward/Manual.patch](Fault%20Timing%20Bugs/benchmark/ca-5393/patch-fastforward/Manual.patch)

DFix Fastforward Patch: [Fault Timing Bugs/benchmark/ca-5393/patch-fastforward/DFix.patch](Fault%20Timing%20Bugs/benchmark/ca-5393/patch-fastforward/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/ca-5393/input](Fault%20Timing%20Bugs/benchmark/ca-5393/input)

Bug OF2 & OF3(CA-6415/CA-extra2)

Bug Report: [Fault Timing Bugs/benchmark/ca-6415/ReadMe](Fault%20Timing%20Bugs/benchmark/ca-6415/ReadMe)

CA-6415 Manual Patch: [Fault Timing Bugs/benchmark/ca-6415/patch-fastforward/Manual-6415.patch](Fault%20Timing%20Bugs/benchmark/ca-6415/patch-fastforward/Manual-6415.patch)

CA-extra Manual Patch: No patch.

DFix Fastforward Patch: [Fault Timing Bugs/benchmark/ca-6415/patch-fastforward/DFix.patch](Fault%20Timing%20Bugs/benchmark/ca-6415/patch-fastforward/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/ca-6415/input](Fault%20Timing%20Bugs/benchmark/ca-6415/input)

Bug OF4 (HB-10090)

Bug Report: [Fault Timing Bugs/benchmark/hb-10090/ReadMe](Fault%20Timing%20Bugs/benchmark/hb-10090/ReadMe)

Manual Patch: [Fault Timing Bugs/benchmark/hb-10090/patch-fastforward/Manual.patch](Fault%20Timing%20Bugs/benchmark/hb-10090/patch-fastforward/Manual.patch)

DFix Fastforward Patch: [Fault Timing Bugs/benchmark/hb-10090/patch-fastforward/DFix.patch](Fault%20Timing%20Bugs/benchmark/hb-10090/patch-fastforward/DFix.patch)

DFix Input: [Fault Timing Bugs/benchmark/hb-10090/input](Fault%20Timing%20Bugs/benchmark/hb-10090/input)



