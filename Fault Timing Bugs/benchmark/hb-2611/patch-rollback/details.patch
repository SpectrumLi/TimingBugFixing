--- ReplicationSourceManager.java	2019-03-21 15:02:56.435617708 -0500
+++ ../patch/ReplicationSourceManager.java	2019-03-21 15:02:56.423617356 -0500
@@ -305,7 +305,11 @@
     LOG.info("Moving " + rsZnode + "'s hlogs to my queue");
     SortedMap<String, SortedSet<String>> newQueues =
         this.zkHelper.copyQueuesFromRS(rsZnode);
+    DFix.RollBack();
+    DFix.StartMark();
+    DFix.RecordZK(this.zookeeper, rsZnode);
     this.zkHelper.deleteRsQueues(rsZnode);
+    DFix.EndMark();
     if (newQueues == null || newQueues.size() == 0) {
       return;
     }
