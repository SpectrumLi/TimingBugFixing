--- Leader.java	2019-03-21 11:19:06.761894075 -0500
+++ ../patch/Leader.java	2019-03-21 23:19:54.371606856 -0500
@@ -329,7 +329,8 @@
                         + Long.toHexString(newLeaderProposal.packet.getZxid()));
             }
             outstandingProposals.put(newLeaderProposal.packet.getZxid(), newLeaderProposal);
-            newLeaderProposal.ackSet.add(self.getId());
+            DFix.Signal(outstandingProposals);
+	    newLeaderProposal.ackSet.add(self.getId());
 
             waitForEpochAck(self.getId(), leaderStateSummary);
             self.setCurrentEpoch(epoch);
@@ -473,7 +474,7 @@
             }
             LOG.trace("outstanding proposals all");
         }
-
+	if (!DFix.Wait(outstandingProposals)) throw new DFixException ();
         if (outstandingProposals.size() == 0) {
             if (LOG.isDebugEnabled()) {
                 LOG.debug("outstanding is 0");
--- LearnerHandler.java	2019-03-21 11:19:06.761894075 -0500
+++ ../patch/LearnerHandler.java	2019-03-21 23:20:42.792987288 -0500
@@ -441,6 +441,12 @@
                 return;
             }
             leader.processAck(this.sid, qp.getZxid(), sock.getLocalSocketAddress());
+	    while(DFix.ShouldLoop(this)){ 
+		try{
+		    leader.processAck(this.sid, qp.getZxid(), sock.getLocalSocketAddress()); 
+		    break;
+		}catch(DFixException e_e){}
+	    } 
 
             /*
              * Wait until leader starts up
